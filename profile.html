<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="color-scheme" content="light dark" />
  <title>OpenWall Â· Profile</title>

  <link rel="stylesheet" href="style.css" />

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
    crossorigin="anonymous"
  />
</head>
<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg sticky-top">
    <div class="container-fluid px-3 px-md-4">
      <a class="navbar-brand brand-glow" href="index.html">
        OPEN<span>WALL</span>
      </a>

      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#mainNav"
        aria-controls="mainNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="mainNav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Explore</a>
          </li>
        </ul>

        <div class="d-flex align-items-center gap-2">
          <button
            id="themeToggle"
            class="btn btn-outline-soft btn-sm"
            type="button"
            aria-label="Switch to dark mode"
          >
            ðŸŒ—
          </button>

          <button
            id="loginNavBtn"
            class="btn btn-outline-soft btn-sm"
            type="button"
            data-bs-toggle="modal"
            data-bs-target="#loginModal"
          >
            Log in
          </button>
          <button
            id="signupNavBtn"
            class="btn btn-main btn-sm"
            type="button"
            data-bs-toggle="modal"
            data-bs-target="#signupModal"
          >
            Sign up
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- PAGE WRAPPER -->
  <main class="page-main py-3 py-md-4">
    <div class="container-fluid px-3 px-md-4">
      <div class="row g-3">
        <!-- PROFILE COLUMN -->
        <div class="col-lg-8">
          <!-- PROFILE HEADER -->
          <section aria-label="User profile">
            <div class="hero-card mb-3" id="profileHeader">
              <div class="d-flex align-items-center gap-3">
                <div class="profile-avatar" id="profileAvatarInitials">
                  U
                </div>
                <div class="flex-grow-1">
                  <div class="d-flex justify-content-between align-items-start gap-2">
                    <div>
                      <h1 class="h5 mb-1" id="profileName">Loadingâ€¦</h1>
                      <div
                        class="text-body-secondary small"
                        id="profileHandle"
                      >
                        @user
                      </div>
                      <div
                        class="text-body-secondary small"
                        id="profileJoined"
                      >
                        Joined â€”
                      </div>
                    </div>
                    <button
                      id="editProfileBtn"
                      class="btn btn-outline-soft btn-sm d-none"
                      type="button"
                    >
                      Edit profile
                    </button>
                  </div>
                </div>
              </div>

              <hr class="my-3" />

              <div class="row g-3 small">
                <div class="col-6 col-md-3">
                  <div class="fw-semibold" id="profilePostCount">0</div>
                  <div class="text-body-secondary">Posts</div>
                </div>
                <div class="col-6 col-md-3">
                  <div class="fw-semibold" id="profileLikeCount">0</div>
                  <div class="text-body-secondary">Total likes</div>
                </div>
                <div class="col-6 col-md-3">
                  <div class="fw-semibold" id="profileAvgLikes">0</div>
                  <div class="text-body-secondary">Avg likes / post</div>
                </div>
                <div class="col-6 col-md-3">
                  <div class="fw-semibold" id="profileTopTag">â€”</div>
                  <div class="text-body-secondary">Top topic</div>
                </div>
              </div>
            </div>

            <!-- ABOUT / BIO DISPLAY -->
            <div class="sidebar-card mb-3" id="profileAboutCard">
              <h2 class="h6 mb-2">About</h2>
              <p class="mb-2 text-body-secondary" id="profileBioText">
                No bio yet.
              </p>
              <p class="small mb-1">
                <strong>Location:</strong>
                <span id="profileLocationText">â€”</span>
              </p>
              <p class="small mb-0">
                <strong>Website:</strong>
                <a
                  href="#"
                  id="profileWebsiteLink"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  â€”
                </a>
              </p>
            </div>

            <!-- EDIT PROFILE FORM (only for current user) -->
            <div
              class="sidebar-card mb-3 d-none"
              id="profileEditFormCard"
            >
              <h2 class="h6 mb-2">Edit profile</h2>
              <form id="editProfileForm" class="profile-edit-form">
                <div class="mb-2">
                  <label for="editName" class="form-label small mb-1">
                    Display name
                  </label>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    id="editName"
                    maxlength="60"
                  />
                </div>

                <div class="mb-2">
                  <label
                    for="editUsername"
                    class="form-label small mb-1"
                  >
                    Username
                  </label>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    id="editUsername"
                    maxlength="32"
                  />
                </div>

                <div class="mb-2">
                  <label for="editBio" class="form-label small mb-1">
                    Bio
                  </label>
                  <textarea
                    id="editBio"
                    rows="3"
                    class="form-control form-control-sm"
                    maxlength="280"
                  ></textarea>
                  <div class="form-text small">
                    Up to 280 characters.
                  </div>
                </div>

                <div class="mb-2">
                  <label
                    for="editLocation"
                    class="form-label small mb-1"
                  >
                    Location
                  </label>
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    id="editLocation"
                    maxlength="80"
                  />
                </div>

                <div class="mb-3">
                  <label
                    for="editWebsite"
                    class="form-label small mb-1"
                  >
                    Website
                  </label>
                  <input
                    type="url"
                    class="form-control form-control-sm"
                    id="editWebsite"
                    placeholder="https://example.com"
                  />
                </div>

                <div class="d-flex gap-2">
                  <button
                    type="submit"
                    class="btn btn-main btn-sm"
                  >
                    Save changes
                  </button>
                  <button
                    type="button"
                    id="cancelEdit"
                    class="btn btn-outline-soft btn-sm"
                  >
                    Cancel
                  </button>
                </div>
              </form>
            </div>

            <!-- PROFILE POSTS -->
            <div class="hero-card">
              <div class="d-flex justify-content-between align-items-center mb-2">
                <h2 class="h6 mb-0">Posts</h2>
              </div>
              <div id="profilePostList"></div>
            </div>
          </section>
        </div>

        <!-- SIDEBAR -->
        <aside class="col-lg-4">
          <section class="sidebar-card mb-3">
            <h2 class="h6 mb-2">Top topics</h2>
            <div id="profileTopics" class="d-flex flex-wrap gap-2 small">
              <small class="text-body-secondary">
                Topics the user posts about will appear here.
              </small>
            </div>
          </section>

          <section class="sidebar-card small text-body-secondary">
            <p class="mb-1">
              Once your auth and database are live, this profile will
              pull real data from your backend.
            </p>
            <p class="mb-0">
              For now, everything is stored only in this browser.
            </p>
          </section>
        </aside>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="page-footer py-3 mt-4 border-top small text-center">
    <div class="container-fluid">
      <span class="text-body-secondary">
        Â© <span id="year"></span> OpenWall prototype.
      </span>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"
  ></script>

  <script src="profile.js"></script>
</body>
</html>
